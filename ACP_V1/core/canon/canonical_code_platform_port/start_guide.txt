Canonical Code Platform - Quick Start
====================================

Fresh setup (Windows, PowerShell)
---------------------------------
1) Clone or unpack the repo to your desired folder.
2) Open PowerShell in the repo root: C:\Users\jakem\Documents\Aletheia_project\conical_analysis\canonical_code_platform__v2
3) Create & activate venv (if not already):
   python -m venv .venv
   .venv\Scripts\Activate.ps1
4) Install dependencies:
   install_requirements.bat
   (or) pip install -r requirements.txt
5) Initialize database and state (one-time):
   python orchestrator.py --init

Run the platform
----------------
Option A (bat launcher):
   start_platform.bat

Option B (manual Streamlit):
   streamlit run ui_app.py

Option C (just orchestrator phases):
   python orchestrator.py --run-all

Testing & verification
----------------------
- Full test suite:
   pytest -v
- Targeted test file or node:
   pytest path/to/test_file.py -k name
- System verification workflow:
   python workflows/workflow_verify.py

Ingestion workflow
------------------
- Single file:
   set PYTHONPATH=.
   python workflows/workflow_ingest.py path/to/file.py
- Directory (recursive .py):
   set PYTHONPATH=.
   python workflows/workflow_ingest.py path/to/folder
- From UI (recommended): use the sidebar "ðŸš€ Scan / Ingest" with an absolute path.

Polyglot ingest (web assets)
----------------------------
- Dispatch Python files to the full analyzer and store other assets (ts/tsx/js/jsx/json/md/css/html) as FILE_ASSET records:
   set PYTHONPATH=.
   python workflows/workflow_polyglot.py path/to/file_or_folder
- UI ingest uses the polyglot workflow automatically for supported extensions.

Governance report
-----------------
- Generate report:
   python analysis/governance_report.py

Maintenance commands
--------------------
- Rebuild / repair database (if corrupted):
   python manual_rebuild.py
- Debug queries:
   python debug_queries.py
- Inspect DB quickly:
   python debug_db.py

Notes & tips
------------
- Always activate .venv before running commands.
- If imports fail, ensure PYTHONPATH includes the repo root (set PYTHONPATH=. in PowerShell session).
- Use absolute paths in the UI ingest field; relative paths resolve against the repo root.
